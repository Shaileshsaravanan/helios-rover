<!DOCTYPE html>
<html>
<head>
    <title>Geolocation getCurrentPosition Example</title>
</head>
<body>
    <h1>Geolocation getCurrentPosition Example</h1>
    <div id="coordinates"></div>
    <button id="getLocationButton">Get Location</button>

    <script>
        // Check if Geolocation is supported
        if ("geolocation" in navigator) {
            let previousLatitude = null;
            let previousLongitude = null;

            // Define the success callback
            function success(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;

                // Check if coordinates have changed
                if (latitude !== previousLatitude || longitude !== previousLongitude) {
                    previousLatitude = latitude;
                    previousLongitude = longitude;
                    document.getElementById('coordinates').innerText = `Latitude: ${latitude}, Longitude: ${longitude}`;
                    console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
                }
            }

            // Define the error callback
            function error(err) {
                console.error(`Error: ${err.message}`);
            }

            // Function to get the current position
            function getLocation() {
                navigator.geolocation.getCurrentPosition(success, error, { enableHighAccuracy: true });
            }

            // Add event listener to the button
            document.getElementById('getLocationButton').addEventListener('click', getLocation);
        } else {
            console.error("Geolocation is not supported by this browser.");
        }
    </script>
</body>
</html>